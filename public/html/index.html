<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Notizen App</title>
    <!-- Handelbar-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.3/handlebars.min.js" 
          integrity="sha256-/PJBs6QWvXijOFIX04kZpLb6ZtSQckdOIavLWKKOgXU=" 
          crossorigin="anonymous" 
          defer></script>
  <script src="js/Controllers/todo-controller.js" 
          type="module"
          defer></script>
  <!-- CSS Files-->
  <link rel="stylesheet" 
        href="styles/index.css">
  <link rel="stylesheet" 
        href="styles/detail.css">

</head>
<!-- Body-->
<body>
  <div class="body-container">
    <header class="page-index header"></header>
    <main class="page-index content">
    </main>
    <footer class="page-index footer">footer</footer>
  </div>
  <!-- Handelbar Templates: Liste aller Notizen (Header)-->
  <script class="page-index notiz-liste-header-template" 
          type="text/x-handlebars-template">
    <div class="page-index header-row-1-col-1">
      <button class="button-notiz-neu button-style-1"
              data-jump-to-page="detail">Neue Notiz</button>
    </div>
    <div class="page-index header-row-1-col-2"></div>
    <div class="page-index header-row-1-col-3">
      <select class="button-change-style button-style-3" 
              name="selectStyle">
        <option value="white">Layout Standard</option>
        <option value="dark">Layout Dunkel</option>
      </select>
    </div>
    <div class="page-index header-row-2-col-1">
      <div class="button-change-sort radio-style-1">
        <input type="radio" 
              name="sortieren" 
              id="sortierenDatumErledigt" 
              value="erledigt">
        <label for="sortierenDatumErledigt">Nach Erledigungsdatum</label>
        <input type="radio" 
              name="sortieren"
              id="sortierenDatumErstellt" 
              value="erstellt">
        <label for="sortierenDatumErstellt">Nach Erstellungsdatum</label>
        <input type="radio" 
              name="sortieren"
              id="sortierenPrio" 
              value="prio">
        <label for="sortierenPrio">Nach Priorität</label>
      </div>
    </div>
    <div class="page-index header-row-2-col-2">
      <button class="button-zeige-abgeschlossen button-style-1 element-aktiv"
              data-filter-abgeschlossen="aus">Erledigte anzeigen</button>
    </div>
  </script>
  <!-- Handelbar Templates: Liste aller Notizen (Content)-->
  <script class="page-index notiz-liste-content-template" 
          type="text/x-handlebars-template">
    {{#each notiz}}
    <div class="page-index notiz-container">
      <div class="page-index notiz-container-datum">
        <p>{{formatDate oDatumZuErledigenBis}}</p>
      </div>
      <div class="page-index notiz-container-titel">
        <p>{{sTitel}}</p>
      </div>
      <div class="page-index notiz-container-prio" 
           data-prio-wert="{{iPrio}}">
        <div>
          <img  class="{{#xIf iPrio '>' 0 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}"
                src="./img/Blitz.jpg" 
                alt="Blitz">
        </div>
        <div>
          <img  class="{{#xIf iPrio '>' 1 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}"
                src="./img/Blitz.jpg" 
                alt="Blitz">
        </div>
        <div>
          <img  class="{{#xIf iPrio '>' 2 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}"
                src="./img/Blitz.jpg" 
                alt="Blitz">
        </div>
        <div>
          <img  class="{{#xIf iPrio '>' 3 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}"
                src="./img/Blitz.jpg" 
                alt="Blitz">
        </div>
        <div>
          <img  class="{{#xIf iPrio '>' 4 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}"
                src="./img/Blitz.jpg" 
                alt="Blitz">
        </div>
      </div>
      <div class="page-index notiz-container-status">
        <input class="notiz-status" 
                type="checkbox" 
                id ="notizStatus_{{_id}}"
                data-notiz-id="{{_id}}"
                {{#if bStatus}} checked {{/if}}>
        <label for="notizStatus_{{_id}}"
               data-notiz-id="{{_id}}">Finished</label>
      </div>
      <div class="page-index notiz-container-text">
        <textarea class="textarea textbox-style-1"
                  id="notizText"
                  rows="2" 
                  disabled>{{sBeschreibung}}</textarea>
        <label for="notizText">
          <svg viewBox="0 0 100 100">
            <polygon points="0,25 100,25 50,75 0,25"
                      fill="black">
            </polygon>
          </svg>
        </label>
      </div>
      <div class="page-index notiz-container-buttons">
        <button class="button-notiz-edit button-style-2"
                data-notiz-id="{{_id}}"
                data-jump-to-page="detail">Anpassen
        </button>
        <button class="button-notiz-delete button-style-2"
                data-notiz-id="{{_id}}">Löschen
        </button>
      </div>
    </div>
    {{/each}}
  </script>
  <!-- Handelbar Templates: Detail Notiz-->
  <script class="page-detail notiz-detail-template" 
          type="text/x-handlebars-template">

    <label class="page-detail titel-label" 
            for="titel">Title</label>
    <input class="page-detail titel-input textbox-style-1" 
            type="text" 
            id="titel"
            value="{{notiz.sTitel}}">
    <div class="page-detail leer1"></div>
    <label class="page-detail beschreibung-label" 
            for="beschreibung">Beschreibung</label>
    <textarea class="page-detail beschreibung-text textbox-style-1" 
              id="beschreibung">{{notiz.sBeschreibung}}</textarea>
    <div class="page-detail leer2"></div>
    <label class="page-detail prio-label" 
            for="prio">Wichtigkeit</label>
    <div  class="page-detail prio-container-status" 
          id="prio"
          data-notiz-id="{{notiz._id}}" 
          data-prio-wert="{{notiz.iPrio}}">
      <div>
        <img  class="prio-wert-setzen {{#xIf notiz.iPrio '>' 0 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}" 
              src="./img/Blitz.jpg" 
              alt="Blitz"
              data-prio-wert=1>
      </div>
      <div>
        <img  class="prio-wert-setzen {{#xIf notiz.iPrio '>' 1 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}" 
              src="./img/Blitz.jpg" 
              alt="Blitz"
              data-prio-wert=2>
      </div>
      <div>
        <img  class="prio-wert-setzen {{#xIf notiz.iPrio '>' 2 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}"  
              src="./img/Blitz.jpg" 
              alt="Blitz"
              data-prio-wert=3>
      </div>
      <div>
        <img  class="prio-wert-setzen {{#xIf notiz.iPrio '>' 3 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}" 
              src="./img/Blitz.jpg" 
              alt="Blitz"
              data-prio-wert=4>
      </div>
      <div>
        <img  class="prio-wert-setzen {{#xIf notiz.iPrio '>' 4 }} blitz-aktiv {{else}} blitz-inaktiv {{/xIf}}" 
              src="./img/Blitz.jpg" 
              alt="Blitz"
              data-prio-wert=5>
      </div>
    </div>
    <label class="page-detail datum-label" 
            for="datum">Zu Erledigen bis:</label>
    <div class="page-detail datum-container-input">
      <input class="datum-input textbox-style-1" 
              type="date" 
              id="datum"
              value="{{formatDate notiz.oDatumZuErledigenBis 'mysql'}}">
    </div>
    <p class="page-detail datum-erstellt-label">Datum Erstellt:</p>
    <p class="page-detail datum-erstellt">{{formatDate notiz.oDatumErstellt}}</p>
    <button class="page-detail speichern button-style-1"
            data-jump-to-page="index"
            data-notiz-id="{{notiz._id}}">Speichern</button>
    <div class="page-detail leer5"></div>
    <button class="page-detail cancel button-style-1"
            data-jump-to-page="index">Cancel</button>
    <div class="page-detail validation-container"></div>
  </script>
  <!-- Handelbar Templates: Detail Notiz - Validierung-->
  <script class="page-detail notiz-detail-validate-template" 
          type="text/x-handlebars-template">
    <h4>Eingabevalidierung Fehlermeldung: </h4>
    {{#each error}}
    <p>{{message}}</p>
    {{/each}}
  </script>
</body>
</html>